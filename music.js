"use strict";var lastIndex,musicJsons,lastVideoIndex;function playMusic(s,o){mePlayer({theme:"default",music:s,target:".music",autoplay:!1},function(){var s=lastIndex+1;s>=musicJsons.length&&(s=0),playMusic(musicJsons[s]),$("#musiclist #"+lastIndex).css("color","#888888"),$("#musiclist #"+s).css("color","#3273dc"),lastIndex=s,mePlayerMethod.play()});var e=s.desc;null==e?$("#desc").html(""):$("#desc").html("<blockquote>"+e+"</blockquote>")}function playVideo(s,o){new DPlayer({container:document.getElementById("dplayer"),autoplay:!0,theme:"#42b983",loop:!1,lang:"zh-cn",preload:"none",volume:Number("0.7"),video:{url:s.url,pic:"",thumbnails:""}}),$("#video-list #"+lastIndex).css("color","#888888"),$("#video-list #"+o).css("color","#3273dc")}$.getJSON("../json_data/music.json",function(s){musicJsons=s;for(var o=0;o<musicJsons.length;o++){musicJsons[o].loop=!1;var e=$("<li><span>"+musicJsons[o].title+"</span>&nbsp;&nbsp;&nbsp;&nbsp;时长："+musicJsons[o].time+"&nbsp;&nbsp;&nbsp;&nbsp; 歌手："+musicJsons[o].author+"</li>");e.attr("id",o),e.css("list-style-type","none"),e.css("height","40px"),e.css("color","#888888"),e.click(function(s){var o=Number(this.id);playMusic(musicJsons[o]),$("#musiclist #"+lastIndex).css("color","#888888"),$(this).css("color","#3273dc"),lastIndex=o,mePlayerMethod.play()}),$("#musiclist").append(e)}var l=Math.floor(Math.random()*musicJsons.length);$("#musiclist #"+l).css("color","#3273dc"),playMusic(musicJsons[lastIndex=l])}),$.getJSON("../json_data/video.json",function(e){$("#video-list").append("");for(var s=0;s<e.length;s++){var o=$("<blockquote>"+(s+1)+"."+e[s].desc+"</blockquote>");o.attr("id",s),o.click(function(s){var o=Number(this.id);playVideo(e[o],o),$("#video-list #"+lastVideoIndex).css("color","#888888"),lastVideoIndex=o}),$("#video-list").append(o)}});